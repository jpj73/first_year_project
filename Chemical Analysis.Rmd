---
title: "Intercropping pot experiment"
author: "Juan Pablo Jord√°n"
date: "3/17/2022"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(googlesheets4)

```

Data sets
```{r}
extractions_untidy <- read_sheet("https://docs.google.com/spreadsheets/d/19Lo_R5N8mh6vTorygxevrL2N93anQ4HfmnGE6zohAxI/edit#gid=0")

#Genera tidy
extractions <- extractions_untidy %>% 
  rename(tissue = Type) %>% 
  select(-Notes,-...7, -...8, -...9, -...10)

#Separating code information into thre different columns when you have no spaces so that you have one column for the type for the type of experiment, the plant that was intercropped with (experiment), and the replicate number
extractions$experiment <- 0
extractions$treatment <- 0
extractions$replicate <- 0
extractions$experiment <- substr(extractions$code, 1, 1)
extractions$treatment <- substr(extractions$code, 2,2)
extractions$replicate <- substr(extractions$code, 3,4)

  
#Replacing the single letters to the full column name

extractions$experiment <- str_replace_all(extractions$experiment, c("P" = "Plant-Soil Feedback", "I" = "Intercropping"))

extractions$treatment <- str_replace_all(extractions$treatment, c("A" = "Alfalfa", "B" = "Bean", "R" = "Red Clover", "M" = "Control", "D" = "Desmodium"))

#Subset the extractions data set into four function subsets by experiment and type of tissue
PSF_leaf <- extractions %>% 
  filter(experiment == "Plant-Soil Feedback", tissue == "Leaf")

PSF_root <- extractions %>% 
  filter(experiment == "Plant-Soil Feedback", tissue == "Root")


Inter_leaf <- extractions %>% 
  filter(experiment == "Intercropping", tissue == "Leaf")

Inter_root <- extractions %>% 
  filter(experiment == "Intercropping", tissue == "Root")

```

